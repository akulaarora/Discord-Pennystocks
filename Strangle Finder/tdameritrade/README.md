From https://github.com/timkpaine/tdameritrade/tree/master/tdameritrade

(with modifications)